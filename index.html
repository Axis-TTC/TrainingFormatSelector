<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Training Format Selector</title>
  <style>
    :root{
      --bg:#ffffff;
      --card:#ffffff;
      --accent:#0f6fff;
      --muted:#6b7280;
      --button-border:#e5e7eb;
    }
    *{box-sizing:border-box;font-family:Inter,ui-sans-serif,system-ui,Segoe UI,Roboto,"Helvetica Neue",Arial;}
    body{margin:0;background:var(--bg);color:#111827;display:flex;align-items:flex-start;justify-content:center;padding:28px;}
    .container{width:100%;max-width:980px;}
    header{display:flex;gap:16px;align-items:center;margin-bottom:18px;}
    header img{height:72px;border-radius:8px;object-fit:cover;box-shadow:0 6px 18px rgba(2,6,23,0.08);}
    h1{font-size:22px;margin:0;}
    .card{background:var(--card);border-radius:14px;padding:22px;box-shadow:0 6px 30px rgba(2,6,23,0.06);}
    .question{font-size:18px;margin-bottom:8px;}
    .questionDescription{
      margin-bottom:14px;
      font-size:14px;
      color:var(--muted);
      line-height:1.4;
    }
    .options{display:flex;flex-direction:column;gap:10px;}
    .btn{
      padding:12px 14px;border-radius:10px;border:1px solid var(--button-border);
      background:transparent;text-align:left;cursor:pointer;font-size:15px;
      transition:transform .06s ease,background .08s;
    }
    .btn:hover{transform:translateY(-1px);background:#f3f6f8;}
    .result{padding:18px;border-radius:10px;background:#f3f6f8;margin-top:10px;font-weight:600;}
    .resultDescription{
      margin-top:6px;
      font-size:14px;
      color:var(--muted);
      line-height:1.4;
    }
    .controls{display:flex;gap:8px;margin-top:14px;flex-wrap:wrap;}
    .small{font-size:13px;padding:8px 10px;border-radius:8px;border:1px solid var(--button-border);background:#fff;cursor:pointer;}
    .crumbs{font-size:13px;color:var(--muted);margin-bottom:10px;}
    footer{margin-top:12px;font-size:13px;color:var(--muted);}
    @media (max-width:520px){ header img{display:none} .card{padding:16px} }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <img src="https://axis365.sharepoint.com/:i:/r/sites/thelibrary/Shared%20Documents/flow.png?csf=1&web=1&e=NjAFUg" alt="Flowchart" />
      <div>
        <h1>This tool will help you find the best way to deliver your training</h1>
        <div style="color:var(--muted);font-size:13px">Click choices to reach a recommended format</div>
      </div>
    </header>

    <div class="card" id="app">
      <div class="crumbs" id="crumbs"></div>

      <div id="questionWrap">
        <div class="question" id="question"></div>
        <div class="questionDescription" id="questionDescription"></div>
        <div class="options" id="options"></div>
      </div>

      <div id="resultWrap" style="display:none">
        <div class="result" id="result"></div>
        <div class="resultDescription" id="resultDescription"></div>
        <div class="controls">
          <button class="small" id="restartBtn">Start over</button>
        </div>
      </div>

      <div class="controls" style="margin-top:8px">
        <button class="small" id="backBtn" disabled>← Back</button>
        <button class="small" id="showFlowBtn">Show flowchart (open image)</button>
      </div>

      <footer>
        Tip: use Back to change a previous choice. The result shows the recommended format.
      </footer>
    </div>
  </div>

  <script>
    // Decision tree nodes including QUESTION DESCRIPTIONS + line break support
    const nodes = {
      start: {
        id: "start",
        question: "External or internal?",
        description: "Choose whether the content is intended for an external audience or for internal use.\nThis determines what formats are available.",
        options: [
          { label: "External", next: "external_content" },
          { label: "Internal", next: "audience" }
        ]
      },

      external_content: {
        id: "external_content",
        result: "External video / Whitepaper",
        description: "External video: \n\nContent? \nUpdates on new features, products, or solutions. \nOften includes recorded screens demonstrating usage. \nMay require action (e.g., Try this yourself). \nShould always provide new insights. \n\nWhen to use? \nWhen introducing new product features, updates, or walkthroughs, and you want to reach an external audience. \n\nWhitepaper: \n\nContent? \nExplanations of a more complex topic, to an internal sales audience but also available externally. \n\nWhen to use? \nWhen you need to describe something, make it searchable and externally available."
      },

      audience: {
        id: "audience",
        question: "For all sales or Sales Engineers only?",
        description: "Decide whether this content applies broadly to everyone in sales,\nor is specifically tailored to Sales Engineers.",
        options: [
          { label: "All sales", next: "traceability_all" },
          { label: "SEs", next: "awareness" }
        ]
      },

      traceability_all: {
        id: "traceability_all",
        question: "Traceability needed?",
        description: "Choose Yes if you need to track who completed the learning.\nThis typically leads to eLearning formats.",
        options: [
          { label: "Yes", next: "intro_elearning" },
          { label: "No", next: "awareness" }
        ]
      },

      intro_elearning: {
        id: "intro_elearning",
        result: "Introduction eLearning",
        description: "Short, trackable modules ideal for onboarding or high-level product introductions."
      },

      awareness: {
        id: "awareness",
        question: "Only to raise awareness?",
        description: "Choose Yes if the primary goal is awareness, not deep learning or technical instruction.",
        options: [
          { label: "Yes", next: "need_resources" },
          { label: "No", next: "indepth" }
        ]
      },

      need_resources: {
        id: "need_resources",
        question: "Need to share resources?",
        description: "Choose Yes if supporting documents, links, or materials must be included.",
        options: [
          { label: "Yes", next: "tech_doc" },
          { label: "No", next: "result_internalvideo" }
        ]
      },

      tech_doc: {
        id: "tech_doc",
        question: "Need to share technical documentation?",
        description: "Decide whether detailed instructions or technical references are required.",
        options: [
          { label: "Yes", next: "detailed_instructions" },
          { label: "No", next: "result_internalvideo" }
        ]
      },

      detailed_instructions: {
        id: "detailed_instructions",
        question: "Detailed instructions?",
        description: "Choose Yes if step-by-step guidance is needed.\nChoose No if only general info is required.",
        options: [
          { label: "Yes", next: "library" },
          { label: "No", next: "senews" }
        ]
      },

      library: {
        id: "library",
        result: "The Library",
        description: "Best for long-form documentation, configuration guides, and detailed technical content."
      },

      senews: {
        id: "senews",
        result: "SE News article",
        description: "Useful for announcements, awareness updates, or sharing highlights with Sales Engineers."
      },

      result_internalvideo: {
        id: "result_internalvideo",
        result: "Internal video (Grab 'n go)",
        description: "Short, fast, and simple — ideal for short explanations or informal demos."
      },

      indepth: {
        id: "indepth",
        question: "In-depth technical training?",
        description: "Choose Yes if the topic requires deeper hands-on learning or advanced concepts.",
        options: [
          { label: "Yes", next: "region_specific" },
          { label: "No", next: "webinar_or_podcast" }
        ]
      },

      region_specific: {
        id: "region_specific",
        question: "Targets a specific region?",
        description: "Choose Yes if the training is for one region (e.g. EMEA).\nChoose No for content relevant globally.",
        options: [
          { label: "Yes", next: "regional_event" },
          { label: "No", next: "live_discussion" }
        ]
      },

      regional_event: {
        id: "regional_event",
        result: "Regional event",
        description: "Live sessions tailored for a specific region, local challenges, or market-specific topics."
      },

      live_discussion: {
        id: "live_discussion",
        question: "Live discussion?",
        description: "Choose Yes when interaction, Q&A, or live demonstration is important.",
        options: [
          { label: "Yes", next: "online_or_inperson" },
          { label: "No", next: "traceability_ws" }
        ]
      },

      online_or_inperson: {
        id: "online_or_inperson",
        question: "Online or in person?",
        description: "Select the delivery format that best fits the audience and content type.",
        options: [
          { label: "Online", next: "online_workshop" },
          { label: "In person", next: "inperson_event" }
        ]
      },

      online_workshop: {
        id: "online_workshop",
        result: "Online workshop / Webinar",
        description: "Ideal for remote interactive training or structured presentations."
      },

      inperson_event: {
        id: "inperson_event",
        result: "Panel discussion, Tech talk, or Hands-on workshop",
        description: "Best for deeper engagement, collaboration, and hands-on technical practice."
      },

      traceability_ws: {
        id: "traceability_ws",
        question: "Traceability needed?",
        description: "Choose Yes if completion needs to be measured.\nChoose No for flexible, informal formats.",
        options: [
          { label: "Yes", next: "elearning" },
          { label: "No", next: "selfpaced" }
        ]
      },

      elearning: {
        id: "elearning",
        result: "eLearning",
        description: "Structured, trackable, and suitable for advanced or formal training."
      },

      selfpaced: {
        id: "selfpaced",
        result: "Self-paced workshop",
        description: "Learners complete the training at their own speed, typically hands-on material."
      },

      webinar_or_podcast: {
        id: "webinar_or_podcast",
        result: "Webinar or Podcast",
        description: "Great for stories, interviews, and broader messaging without deep technical details."
      }
    };

    let history = ["start"];

    function currentNode() {
      return nodes[history[history.length - 1]];
    }

    const questionEl = document.getElementById("question");
    const questionDescriptionEl = document.getElementById("questionDescription");
    const optionsEl = document.getElementById("options");
    const resultWrap = document.getElementById("resultWrap");
    const resultEl = document.getElementById("result");
    const resultDescriptionEl = document.getElementById("resultDescription");

    const restartBtn = document.getElementById("restartBtn");
    const backBtn = document.getElementById("backBtn");
    const crumbsEl = document.getElementById("crumbs");
    const showFlowBtn = document.getElementById("showFlowBtn");

    function render() {
      const node = currentNode();

      crumbsEl.textContent = history.map((id) => {
        const n = nodes[id];
        if (!n) return id;
        if (n.question) return n.question;
        if (n.result) return n.result;
        return id;
      }).join(" → ");

      backBtn.disabled = history.length <= 1;

      if (node.result) {
        document.getElementById("questionWrap").style.display = "none";
        resultWrap.style.display = "block";

        resultEl.textContent = node.result;
        resultDescriptionEl.innerHTML = (node.description || "").replace(/\n/g, "<br>");
        return;
      }

      document.getElementById("questionWrap").style.display = "block";
      resultWrap.style.display = "none";

      questionEl.textContent = node.question || "";
      questionDescriptionEl.innerHTML = (node.description || "").replace(/\n/g, "<br>");

      optionsEl.innerHTML = "";

      if (node.options && node.options.length) {
        node.options.forEach(opt => {
          const b = document.createElement("button");
          b.className = "btn";
          b.type = "button";
          b.textContent = opt.label;
          b.onclick = () => choose(opt.next);
          optionsEl.appendChild(b);
        });
      } else {
        const fallback = document.createElement("div");
        fallback.textContent = "No further options.";
        optionsEl.appendChild(fallback);
      }
    }

    function choose(nextId) {
      if (!nodes[nextId]) {
        alert("Next node missing: " + nextId);
        return;
      }
      history.push(nextId);
      render();
    }

    restartBtn.onclick = () => {
      history = ["start"];
      render();
    };

    backBtn.onclick = () => {
      if (history.length <= 1) return;
      history.pop();
      render();
    };

    showFlowBtn.onclick = () => {
      window.open("https://axis365.sharepoint.com/:i:/r/sites/thelibrary/Shared%20Documents/flow.png?csf=1&web=1&e=NjAFUg", "_blank");
    };

    render();
  </script>
</body>
</html>
